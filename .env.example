# GitHub Actions Configuration for Photo Processing Lambda
# 
# Configure these in your GitHub repository:
# 
# SECRETS (Settings → Secrets and variables → Actions → Repository secrets):
# - AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY (sensitive credentials)
# - AWS_REGION, LAMBDA_FUNCTION_NAME (if you want them hidden)
#
# VARIABLES (Settings → Secrets and variables → Actions → Variables):  
# - Bucket configuration below (not sensitive, visible in workflow logs)

# AWS Configuration (Required - use GitHub Secrets)
AWS_REGION=us-east-1
LAMBDA_FUNCTION_NAME=phot3s-upload-lambda

# S3 Bucket Configuration (Recommended - use GitHub Variables)
# Comma-separated list of allowed source buckets
ALLOWED_SOURCE_BUCKETS=my-photos,user-uploads,backup-photos

# Use different bucket for processed files (optional)
# If not set, processed files go to same bucket as source
PROCESSED_BUCKET=processed-photos

# Prefix for processed files (optional, defaults to 'processed/')
PROCESSED_PREFIX=processed/

# Delete original file after processing (optional, defaults to 'false')
DELETE_ORIGINAL=false

# Examples:
# Personal use (single bucket):
# ALLOWED_SOURCE_BUCKETS=my-personal-photos
# PROCESSED_PREFIX=resized/
# DELETE_ORIGINAL=false

# Multi-tenant (separate processed bucket):
# ALLOWED_SOURCE_BUCKETS=tenant1-uploads,tenant2-uploads
# PROCESSED_BUCKET=central-processed-photos
# DELETE_ORIGINAL=true

# Development vs Production:
# Dev: ALLOWED_SOURCE_BUCKETS=dev-photos
# Prod: ALLOWED_SOURCE_BUCKETS=prod-photos-1,prod-photos-2